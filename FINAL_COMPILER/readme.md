# Compiler Project

This project is a compiler implementation developed in **C** using **Flex** and **Bison**. It includes components for lexical analysis, syntax analysis, semantic analysis, intermediate code generation, and final MIPS assembly code generation.
This project was built and tested in **Linux**, so testing is recommended to be done inside a Linux dev environment.
The MIPS code generated was designed for **qtSPIM**.

## Project Structure

The directory contains the following files:

### Core Components
- **`AST.h` and `AST.c`**:
  - Handles the Abstract Syntax Tree (AST) structure and logic.
  - Used to represent the program structure during syntax analysis and semantic processing.

- **`codeGenerator.h` and `codeGenerator.c`**:
  - Implements the MIPS assembly code generation.
  - Converts intermediate representations into executable MIPS code.

- **`lexer.l`**:
  - The Flex specification file for lexical analysis.
  - Processes the input code to generate tokens for the parser.

- **`parser.y`**:
  - The Bison specification file for syntax and semantic analysis.
  - Defines grammar rules, constructs the AST, performs semantic checks, and initiates TAC (Three-Address Code) and code generation.

- **`semantic.h` and `semantic.c`**:
  - Implements the logic for semantic analysis and intermediate code generation (TAC).

- **`symbolTable.h` and `symbolTable.c`**:
  - Manages the symbol table for variable and function declarations.
  - Facilitates scope management.

### Supporting Files
- **`testProg.cmm`**:
  - A sample input program for the compiler written in the custom language (cmm / c--).

- **`output.s`**:
  - The output MIPS assembly code generated by the compiler from `testProg.cmm`.

- **`Makefile`**:
  - Simplifies compilation and cleanup processes. Use:
    - `make clean`: Removes compiled files.
    - `make`: Builds the compiler.

---

## Prerequisites

Ensure the following tools are installed. These are the recommended versions for running this compiler:
- **Flex**: Version 2.6.4
  - Check the version with:
    ```bash
    flex --version
    ```
- **Bison**: Version 3.8.2
  - Check the version with:
    ```bash
    bison --version
    ```
- **gcc**: Version 11.4.0
  - Check the version with:
    ```bash
    gcc --version
    ```

---

## Usage Instructions

1. **Compile and Run the Compiler**:
   - Save the files into the same directory in Linux.
   - Navigate to the project directory and run:
     ```bash
     make clean
     make
     ```

2. **Check Output**:
   - The generated MIPS assembly code will be saved in `output.s`.

3. **Run the MIPS Code**:
   - Use qtSPIM as the MIPS simulator to execute the assembly:
   - `File` -> `Reinitialize and Load File`.
   - Choose `output.s`.
   - Click `Run`.

---

## Features

- **Lexical Analysis**:
  - Tokenizes the input program using Flex.
  
- **Syntax Analysis**:
  - Parses tokens using grammar rules defined in `parser.y`.
  - Constructs an Abstract Syntax Tree (AST).

- **Semantic Analysis**:
  - Checks type correctness and manages scoping.
  - Builds the symbol table for program symbols.

- **Intermediate Representation**:
  - Generates Three-Address Code (TAC) for further processing.

- **Code Generation**:
  - Produces MIPS assembly code from the TAC.

---

## Directory Overview

| **File**           | **Description**                                    |
|---------------------|----------------------------------------------------|
| `AST.h/.c`         | Handles AST structure and manipulation.            |
| `codeGenerator.h/.c` | Implements MIPS code generation logic.             |
| `lexer.l`          | Flex file for lexical analysis.                    |
| `parser.y`         | Bison file for syntax/semantic analysis and AST.   |
| `semantic.h/.c`    | Contains semantic analysis and TAC generation logic.|
| `symbolTable.h/.c` | Manages the symbol table and scoping.               |
| `testProg.cmm`     | Example input program.                             |
| `output.s`         | Generated MIPS assembly code.                      |
| `Makefile`         | Automates compilation and cleanup tasks.           |

---

## Authors

Owen Kroeger and Atu Ambala

---
